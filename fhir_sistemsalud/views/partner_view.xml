<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- Extending Partner Form View -->
    <record id="view_partner_form_fe" model="ir.ui.view">
       <field name="inherit_id" ref="base.view_partner_form" />
        <field name="model">res.partner</field>
        <field name="arch" type="xml">

            <xpath expr="//form//sheet" position="before">
                <header>
                    <button name="search_network" string = "Buscar en la red" type="object" class="oe_highlight" />
                </header>
            </xpath>
            

            <xpath expr="//field[@name='name']" position="before">
                <field name="doctype_id" placeholder = "Tipo documento"/>
                <field name="ref" placeholder = "Identificacion" required='1'/>
   
            </xpath>

            <xpath expr="//field[@name='name']" position="attributes">
               
                <attribute name="attrs">{'required' : [('company_type', '=', 'company')],
                                         'invisible' : [('company_type', '=', 'person')]}</attribute>

            </xpath>
            <xpath expr="//notebook" position="inside">
                <page string = "Datos personales">
                <group name ="fhir">
                    <group>

                        <field name="name_1" attrs = "{'invisible' : [('company_type', '=', 'company')],
                                                       'required' : [('company_type', '=', 'person')]}"/>
                        <field name="name_2" attrs = "{'invisible' : [('company_type', '=', 'company')]}"/>
                        <field name="is_patient" attrs = "{'invisible' : [('company_type', '=', 'company')]}"/>
                        <field name="is_insurer" attrs = "{'invisible' : [('company_type', '=', 'person')]}"/>
                    </group>
                    <group>
                        <field name="lastname_1" attrs = "{'invisible' : [('company_type', '=', 'company')],
                                                           'required' : [('company_type', '=', 'person')]}"/>
                        <field name="lastname_2" attrs = "{'invisible' : [('company_type', '=', 'company')]}"/>
                        <field name="gender"  attrs = "{'invisible' : [('company_type', '=', 'company')],
                                                        'required' : [('is_patient', '=', True)]}"/>
                        <field name="is_doctor"  attrs = "{'invisible' : [('company_type', '=', 'company')]}"/>
                        <field name="interoperate" attrs="{'invisible' : [('company_type', '=', 'company')]}"
                               groups="base.group_system"/>
                    </group>

                </group>
                </page>

            </xpath>

        </field>
    </record>
</odoo>